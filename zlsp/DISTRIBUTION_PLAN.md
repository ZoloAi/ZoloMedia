# Distribution Plan: Multi-Platform Deployment Strategy

**Purpose:** Document the comprehensive distribution strategy for zlsp across editors and operating systems while maintaining single source of truth (SSOT) architecture.

**Last Updated:** 2026-01-15  
**Status:** Phase 1 (Editor Extensions) - In Progress

---

## Table of Contents

1. [Architecture Overview](#architecture-overview)
2. [Phase 1: Editor Extensions (.vsix)](#phase-1-editor-extensions-vsix)
3. [Phase 2: OS-Level File Icons](#phase-2-os-level-file-icons)
4. [Build Pipeline](#build-pipeline)
5. [Distribution Channels](#distribution-channels)
6. [Maintenance & Updates](#maintenance--updates)

---

## Architecture Overview

### Single Source of Truth (SSOT) Principle

```
                    ┌─────────────────────────────────┐
                    │   themes/zolo_default.yaml      │
                    │   (CANONICAL COLOR SOURCE)       │
                    └──────────────┬──────────────────┘
                                   │
                    ┌──────────────┴──────────────────┐
                    │    Theme Generation System       │
                    │   (bindings/python/generator)    │
                    └──────────────┬──────────────────┘
                                   │
        ┌──────────────────────────┼──────────────────────────┐
        │                          │                          │
        ▼                          ▼                          ▼
┌───────────────┐        ┌─────────────────┐      ┌─────────────────┐
│  Vim Colors   │        │  VS Code .vsix   │      │ Cursor Extension│
│  (runtime)    │        │  (build artifact)│      │  (build artifact)│
└───────────────┘        └─────────────────┘      └─────────────────┘
                                   │
                    ┌──────────────┴──────────────────┐
                    │ Contains semantic-colors.json    │
                    │ (pre-generated from YAML)        │
                    │ Source documented in JSON        │
                    └──────────────────────────────────┘
```

### Key Principle

**The .vsix is a COMPILATION artifact, not a second source of truth.**

Just like:
- `source.c` → `binary` (compilation)
- `TypeScript` → `JavaScript` (transpilation)
- `zolo_default.yaml` → `.vsix` (theme compilation)

---

## Phase 1: Editor Extensions (.vsix)

### 1.1: VS Code Extension (.vsix Package)

**Status:** ⚠️ 95% Complete - Ready for .vsix build

#### What is .vsix?

A `.vsix` file is a ZIP archive containing a complete VS Code extension:

```
zolo-lsp-1.0.0.vsix (ZIP archive)
├── extension/
│   ├── package.json                    # Extension manifest
│   ├── out/extension.js                # LSP client
│   ├── syntaxes/zolo.tmLanguage.json   # TextMate grammar
│   ├── language-configuration.json     # Language settings
│   ├── icons/zolo_filetype.png         # File type icon (IN-EDITOR)
│   ├── themes/semantic-colors.json     # Pre-generated colors
│   └── README.md                       # User docs
└── [Content_Types].xml                 # Package metadata
```

#### SSOT Compliance

**Generated Files (from `zolo_default.yaml`):**
- ✅ `themes/semantic-colors.json` - Auto-generated at build time
- ✅ `syntaxes/zolo.tmLanguage.json` - Generated from theme
- ✅ `package.json` (semantic token types) - Generated from theme

**Static Files:**
- ✅ `icons/zolo_filetype.png` - Design asset (visual, not code)
- ✅ `extension.js` - Template with injection points
- ✅ `language-configuration.json` - Language semantics (not colors)

**Verification:**
```json
// themes/semantic-colors.json includes source documentation
{
  "source": "themes/zolo_default.yaml",
  "generated": "Auto-generated by zlsp theme system",
  "generator_version": "1.0.0",
  "build_timestamp": "2026-01-15T08:00:00Z",
  "rules": {
    "zmetaKey": { "foreground": "#87d787" },
    // ... 40 token types
  }
}
```

#### Build Process

**Current Implementation:**
```bash
# Generate marketplace package
python3 editors/vscode/install.py --marketplace

# Output: editors/vscode/marketplace-package/
# Contains all files ready for packaging
```

**Missing Steps (To Complete):**

1. **Install vsce tool:**
   ```bash
   npm install -g @vscode/vsce
   ```

2. **Add file icon to package:**
   - Copy `assets/zolo_filetype.png` → `icons/zolo_filetype.png`
   - Update `package.json` languages section with icon reference

3. **Build .vsix:**
   ```bash
   cd editors/vscode/marketplace-package
   vsce package
   # Creates: zolo-lsp-1.0.0.vsix
   ```

4. **Test locally:**
   ```bash
   code --install-extension zolo-lsp-1.0.0.vsix
   # Verify: Open .zolo file, check colors, hover, completion
   ```

5. **Verify SSOT:**
   ```bash
   # Colors in VS Code should match Vim exactly
   # Extract semantic-colors.json from .vsix (it's a ZIP)
   unzip -p zolo-lsp-1.0.0.vsix extension/themes/semantic-colors.json
   # Verify "source": "themes/zolo_default.yaml" is documented
   ```

#### Icon Integration (IN-EDITOR ONLY)

**Scope:** File icons in VS Code sidebar, tabs, quick open

**Implementation:**

```python
# In editors/vscode/install.py, update generate_package_json():

"contributes": {
    "languages": [
        {
            "id": "zolo",
            "aliases": ["Zolo", "zolo"],
            "extensions": [".zolo"],
            "configuration": "./language-configuration.json",
            "icon": {
                "light": "./icons/zolo_filetype.png",
                "dark": "./icons/zolo_filetype.png"
            }
        }
    ],
    # ...
}

# And in install_extension_files(), copy the icon:
icon_src = Path(__file__).parent.parent.parent / 'assets' / 'zolo_filetype.png'
icon_dest = base_dir / 'icons' / 'zolo_filetype.png'
icon_dest.parent.mkdir(exist_ok=True)
shutil.copy2(icon_src, icon_dest)
```

**Result:** `.zolo` files show custom icon **inside VS Code only**

---

### 1.2: Cursor Extension (Direct Registration)

**Status:** ✅ Complete - Production Ready

#### Implementation Method

Cursor uses **local extension registration** instead of .vsix:

```
~/.cursor/extensions/zolo-lsp-1.0.0/
├── package.json
├── out/extension.js
├── syntaxes/zolo.tmLanguage.json
├── language-configuration.json
└── icons/zolo_filetype.png

~/.config/Cursor/User/extensions.json
└── Registry entry with UUID
```

#### SSOT Compliance

Same as VS Code - generates from `zolo_default.yaml`:
- ✅ Colors injected globally (not theme-scoped)
- ✅ Cleanup logic for old installations
- ✅ Full feature parity with VS Code

#### Icon Integration

Same icon system as VS Code (when implemented):
- File icons in Cursor sidebar
- Tab icons
- Quick open (Cmd+P)

---

### 1.3: Vim Integration

**Status:** ✅ Complete - Production Ready

#### Implementation Method

Direct highlighting via Vim syntax system:
```vim
" Colors loaded from zolo_default.yaml at install time
highlight ZoloZmetaKey guifg=#87d787
highlight ZoloUIElementKey guifg=#ff5f00
" ... 40 token types
```

#### SSOT Compliance

✅ **Master Reference**: Vim is the reference implementation for color accuracy

All other editors (VS Code, Cursor, marketplace) are tested against Vim output.

---

## Phase 2: OS-Level File Icons

### 2.1: Overview

**Scope:** File icons in **Finder (macOS)**, **Explorer (Windows)**, and **File Managers (Linux)**

**Distinction:** This is **completely separate** from editor integration:

```
┌────────────────────────────────────────────────────────────┐
│  OS Level (Finder/Explorer)                                 │
│  Requires: Native app, registry, or system packages        │
│  Icon Format: .icns (macOS), .ico (Windows), .png (Linux) │
│  Permissions: Admin/root access usually required           │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│  Editor Level (VS Code/Cursor)                              │
│  Requires: Extension package only                          │
│  Icon Format: .png                                         │
│  Permissions: User-level only                              │
└────────────────────────────────────────────────────────────┘
```

**Important:** These are **two separate distribution channels** that don't interact.

---

### 2.2: macOS (Finder) Implementation

#### Requirements

1. **Icon Format:** Convert PNG → `.icns`
2. **Registration:** Native macOS app or helper utility
3. **Distribution:** `.dmg` installer or App Store

#### Implementation Strategy

**Option A: Simple "Opener" App**

Create a minimal macOS app that:
- Registers `.zolo` file type
- Provides custom icon
- Opens files in default text editor (VS Code/Cursor/Vim)

**App Structure:**
```
ZoloFileType.app/
├── Contents/
│   ├── Info.plist              # File type registration
│   ├── Resources/
│   │   └── zolo_filetype.icns  # macOS icon format
│   └── MacOS/
│       └── ZoloFileType        # Simple launcher script
```

**Info.plist Configuration:**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" 
          "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleIdentifier</key>
    <string>media.zolo.filetype</string>
    
    <key>CFBundleName</key>
    <string>Zolo File Type</string>
    
    <key>CFBundleVersion</key>
    <string>1.0.0</string>
    
    <key>CFBundleDocumentTypes</key>
    <array>
        <dict>
            <key>CFBundleTypeExtensions</key>
            <array>
                <string>zolo</string>
            </array>
            <key>CFBundleTypeIconFile</key>
            <string>zolo_filetype.icns</string>
            <key>CFBundleTypeName</key>
            <string>Zolo Configuration File</string>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
            <key>LSHandlerRank</key>
            <string>Default</string>
        </dict>
    </array>
    
    <key>LSMinimumSystemVersion</key>
    <string>10.13</string>
</dict>
</plist>
```

**Icon Conversion:**
```bash
# Convert PNG to ICNS (requires macOS)
mkdir zolo_filetype.iconset
sips -z 16 16     assets/zolo_filetype.png --out zolo_filetype.iconset/icon_16x16.png
sips -z 32 32     assets/zolo_filetype.png --out zolo_filetype.iconset/icon_16x16@2x.png
sips -z 32 32     assets/zolo_filetype.png --out zolo_filetype.iconset/icon_32x32.png
sips -z 64 64     assets/zolo_filetype.png --out zolo_filetype.iconset/icon_32x32@2x.png
sips -z 128 128   assets/zolo_filetype.png --out zolo_filetype.iconset/icon_128x128.png
sips -z 256 256   assets/zolo_filetype.png --out zolo_filetype.iconset/icon_128x128@2x.png
sips -z 256 256   assets/zolo_filetype.png --out zolo_filetype.iconset/icon_256x256.png
sips -z 512 512   assets/zolo_filetype.png --out zolo_filetype.iconset/icon_256x256@2x.png
sips -z 512 512   assets/zolo_filetype.png --out zolo_filetype.iconset/icon_512x512.png
sips -z 1024 1024 assets/zolo_filetype.png --out zolo_filetype.iconset/icon_512x512@2x.png
iconutil -c icns zolo_filetype.iconset
# Creates: zolo_filetype.icns
```

**Build Script:**
```bash
#!/bin/bash
# build-macos-filetype.sh

# Create app bundle structure
mkdir -p ZoloFileType.app/Contents/{MacOS,Resources}

# Copy icon
cp zolo_filetype.icns ZoloFileType.app/Contents/Resources/

# Copy Info.plist
cp Info.plist ZoloFileType.app/Contents/

# Create simple opener script
cat > ZoloFileType.app/Contents/MacOS/ZoloFileType << 'EOF'
#!/bin/bash
# Open .zolo files with default text editor
open -t "$@"
EOF

chmod +x ZoloFileType.app/Contents/MacOS/ZoloFileType

# Sign the app (requires Developer ID)
# codesign --force --deep --sign "Developer ID Application: Your Name" ZoloFileType.app

# Create DMG for distribution
hdiutil create -volname "Zolo File Type" -srcfolder ZoloFileType.app -ov -format UDZO ZoloFileType-1.0.0.dmg
```

**Distribution:**
- Upload `.dmg` to GitHub Releases
- Users drag app to `/Applications`
- Right-click any `.zolo` file → Get Info → Open with: ZoloFileType.app → Change All

---

### 2.3: Windows (Explorer) Implementation

#### Requirements

1. **Icon Format:** Convert PNG → `.ico`
2. **Registration:** Windows Registry entries
3. **Distribution:** `.exe` installer or `.reg` file

#### Implementation Strategy

**Option A: Registry Installer**

**Icon Conversion:**
```bash
# Convert PNG to ICO (requires ImageMagick)
convert assets/zolo_filetype.png -define icon:auto-resize=256,128,64,48,32,16 zolo_filetype.ico
```

**Registry File (zolo-filetype.reg):**
```registry
Windows Registry Editor Version 5.00

; Register .zolo file extension
[HKEY_CLASSES_ROOT\.zolo]
@="ZoloMedia.ZoloFile"
"Content Type"="text/plain"

; Define file type
[HKEY_CLASSES_ROOT\ZoloMedia.ZoloFile]
@="Zolo Configuration File"

; Set custom icon
[HKEY_CLASSES_ROOT\ZoloMedia.ZoloFile\DefaultIcon]
@="%PROGRAMFILES%\\ZoloMedia\\icons\\zolo_filetype.ico,0"

; Open with default text editor
[HKEY_CLASSES_ROOT\ZoloMedia.ZoloFile\shell\open\command]
@="notepad.exe \"%1\""

; Context menu - Open with VS Code (if installed)
[HKEY_CLASSES_ROOT\ZoloMedia.ZoloFile\shell\VSCode]
@="Open with VS Code"
[HKEY_CLASSES_ROOT\ZoloMedia.ZoloFile\shell\VSCode\command]
@="\"C:\\Program Files\\Microsoft VS Code\\Code.exe\" \"%1\""
```

**Installer Script (PowerShell):**
```powershell
# install-zolo-filetype.ps1
# Requires Administrator privileges

$ErrorActionPreference = "Stop"

# Create icons directory
$iconDir = "$env:ProgramFiles\ZoloMedia\icons"
New-Item -ItemType Directory -Force -Path $iconDir

# Copy icon
Copy-Item "zolo_filetype.ico" -Destination "$iconDir\zolo_filetype.ico"

# Import registry settings
reg import zolo-filetype.reg

# Refresh icon cache
ie4uinit.exe -show

Write-Host "✓ Zolo file type registered successfully!" -ForegroundColor Green
Write-Host "  Right-click any .zolo file to see 'Open with VS Code' option"
```

**Uninstaller:**
```powershell
# uninstall-zolo-filetype.ps1

reg delete "HKEY_CLASSES_ROOT\.zolo" /f
reg delete "HKEY_CLASSES_ROOT\ZoloMedia.ZoloFile" /f
Remove-Item -Recurse -Force "$env:ProgramFiles\ZoloMedia"

Write-Host "✓ Zolo file type unregistered" -ForegroundColor Green
```

**Distribution:**
- Package as `.zip` with icon + registry file + PowerShell scripts
- Or create proper `.msi` installer using WiX Toolset
- Distribute via GitHub Releases

---

### 2.4: Linux (File Managers) Implementation

#### Requirements

1. **Icon Format:** `.png` (standard sizes: 16x16, 32x32, 48x48, 256x256)
2. **Registration:** Desktop entry + MIME type
3. **Distribution:** Distro-specific packages (`.deb`, `.rpm`, etc.)

#### Implementation Strategy

**MIME Type Definition:**

Create `zolo.xml`:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info">
    <mime-type type="text/x-zolo">
        <comment>Zolo Configuration File</comment>
        <comment xml:lang="en">Zolo Configuration File</comment>
        <glob pattern="*.zolo"/>
        <sub-class-of type="text/plain"/>
        <icon name="text-x-zolo"/>
    </mime-type>
</mime-info>
```

**Desktop Entry:**

Create `zolo-filetype.desktop`:
```desktop
[Desktop Entry]
Type=Application
Name=Zolo File
Comment=Zolo Configuration File
MimeType=text/x-zolo;
Icon=text-x-zolo
NoDisplay=true
Exec=xdg-open %f
Categories=TextEditor;Utility;
```

**Installation Script:**
```bash
#!/bin/bash
# install-zolo-filetype-linux.sh

set -e

PREFIX="${PREFIX:-/usr/local}"
ICON_DIR="$PREFIX/share/icons/hicolor"
MIME_DIR="$PREFIX/share/mime/packages"
APP_DIR="$PREFIX/share/applications"

# Install icon at multiple sizes
for size in 16 32 48 256; do
    DEST="$ICON_DIR/${size}x${size}/mimetypes"
    mkdir -p "$DEST"
    convert assets/zolo_filetype.png -resize ${size}x${size} "$DEST/text-x-zolo.png"
done

# Install MIME type definition
mkdir -p "$MIME_DIR"
cp zolo.xml "$MIME_DIR/zolo.xml"

# Install desktop entry
mkdir -p "$APP_DIR"
cp zolo-filetype.desktop "$APP_DIR/zolo-filetype.desktop"

# Update databases
update-mime-database "$PREFIX/share/mime" 2>/dev/null || true
update-desktop-database "$APP_DIR" 2>/dev/null || true
gtk-update-icon-cache "$ICON_DIR" 2>/dev/null || true

echo "✓ Zolo file type registered for Linux"
echo "  Restart your file manager to see changes"
```

**Debian Package Structure:**

```
zolo-filetype_1.0.0_all.deb
└── debian/
    ├── control
    ├── install
    ├── postinst
    └── prerm
```

**debian/control:**
```
Package: zolo-filetype
Version: 1.0.0
Architecture: all
Maintainer: Zolo Media <support@zolomedia.com>
Description: File type registration for .zolo files
 Provides custom icons and MIME type registration for Zolo
 configuration files in Linux desktop environments.
Depends: shared-mime-info, desktop-file-utils
```

**Build .deb:**
```bash
dpkg-deb --build zolo-filetype_1.0.0_all
```

---

## Build Pipeline

### Automated Build Process

**Goal:** Single command to build all distribution artifacts

```bash
# Build everything
make dist

# Or individually:
make dist-vscode      # Creates .vsix
make dist-cursor      # Creates extension package
make dist-macos       # Creates .dmg
make dist-windows     # Creates .zip with installer
make dist-linux       # Creates .deb, .rpm
```

**Makefile Structure:**

```makefile
.PHONY: dist dist-vscode dist-cursor dist-macos dist-windows dist-linux

VERSION := $(shell python3 -c "from zlsp.core.version import __version__; print(__version__)")

dist: dist-vscode dist-cursor dist-macos dist-windows dist-linux

dist-vscode:
	@echo "Building VS Code .vsix..."
	python3 editors/vscode/install.py --marketplace
	cd editors/vscode/marketplace-package && vsce package
	mv editors/vscode/marketplace-package/*.vsix dist/

dist-cursor:
	@echo "Cursor uses direct installation (zlsp-cursor-install)"
	@echo "No separate package needed"

dist-macos:
	@echo "Building macOS file type app..."
	./scripts/build-macos-filetype.sh
	mv ZoloFileType-$(VERSION).dmg dist/

dist-windows:
	@echo "Building Windows file type installer..."
	./scripts/build-windows-filetype.sh
	mv zolo-filetype-$(VERSION)-windows.zip dist/

dist-linux:
	@echo "Building Linux packages..."
	./scripts/build-linux-packages.sh
	mv *.deb *.rpm dist/

clean:
	rm -rf dist/*
	rm -rf editors/vscode/marketplace-package
	rm -rf build/
```

---

## Distribution Channels

### 1. Direct Installation (Primary)

**Python Package (PyPI):**
```bash
pip install zlsp
zlsp-vscode-install    # VS Code
zlsp-cursor-install    # Cursor
```

**Advantages:**
- ✅ Always up-to-date with latest colors
- ✅ SSOT guaranteed (generates from YAML)
- ✅ Works immediately after pip install

---

### 2. VS Code Marketplace (Secondary)

**Distribution:**
```bash
# One-time setup
vsce login zolo-ai

# Publish
cd editors/vscode/marketplace-package
vsce publish
```

**User Installation:**
- Search "Zolo Language Support" in VS Code Extensions
- Click Install
- Extension prompts if `zolo-lsp` not found: "Run: pip install zlsp"

**Advantages:**
- ✅ Discoverability
- ✅ Auto-updates via VS Code
- ✅ One-click install from UI

**SSOT Compliance:**
- ✅ Marketplace .vsix is build artifact
- ✅ Generated from `zolo_default.yaml` at publish time
- ✅ Source documented in bundled `semantic-colors.json`

---

### 3. OS File Type Packages (Separate)

**macOS:**
- GitHub Releases: `ZoloFileType-1.0.0.dmg`
- User downloads, drags to Applications
- Optional, not required for editing

**Windows:**
- GitHub Releases: `zolo-filetype-1.0.0-windows.zip`
- Contains installer scripts + icon
- Optional, not required for editing

**Linux:**
- GitHub Releases: `.deb`, `.rpm` packages
- Install via package manager
- Optional, not required for editing

**Marketing:**
```
Want .zolo files to show custom icons in Finder/Explorer?
Download the OS integration package!
```

---

## Maintenance & Updates

### Update Workflow

**When colors change in `zolo_default.yaml`:**

```bash
# 1. Update theme
vim themes/zolo_default.yaml

# 2. Test in Vim (reference implementation)
vim example.zolo
# Verify colors are correct

# 3. Rebuild VS Code .vsix
python3 editors/vscode/install.py --marketplace
cd editors/vscode/marketplace-package
vsce package
vsce publish  # Pushes to marketplace

# 4. Python package (pip users get new colors automatically)
git tag v1.0.1
git push --tags
# GitHub Actions builds and publishes to PyPI

# 5. Test marketplace version
code --install-extension zolo-lsp-1.0.1.vsix
# Verify colors match Vim

# 6. OS file type icons (rarely need updates)
# Only rebuild if icon design changes
```

### Version Synchronization

**Single Version Number:**
```python
# zlsp/core/version.py
__version__ = "1.0.1"
```

**Used by:**
- Python package (PyPI)
- VS Code extension (package.json)
- Cursor extension (package.json)
- macOS app (Info.plist)
- Windows installer (registry)
- Linux packages (control file)

**Update all at once:**
```bash
./scripts/bump-version.sh 1.0.1
# Updates version in all files
```

---

## Testing Strategy

### Pre-Release Checklist

#### SSOT Verification

```bash
# 1. Colors match across editors
./scripts/test-color-consistency.sh
# Compares Vim output (reference) vs VS Code vs Cursor

# 2. Semantic token snapshot tests
zlsp test --integration
# Verifies token output matches golden baselines

# 3. Extract and verify .vsix contents
unzip -p zolo-lsp-1.0.0.vsix extension/themes/semantic-colors.json
# Check "source": "themes/zolo_default.yaml"
# Check colors match theme
```

#### Functional Testing

```bash
# VS Code
code --install-extension zolo-lsp-1.0.0.vsix
# Open .zolo file
# Check: syntax highlighting, hover, completion, diagnostics

# Cursor
zlsp-cursor-install
# Reload Cursor
# Same checks

# macOS File Icons
open -a Finder .
# Check: .zolo files show custom icon

# Windows File Icons
explorer .
# Check: .zolo files show custom icon

# Linux File Icons
nautilus . &  # or your file manager
# Check: .zolo files show custom icon
```

---

## Security Considerations

### Code Signing

**macOS:**
```bash
codesign --force --deep --sign "Developer ID Application: Your Name" ZoloFileType.app
# Required for Gatekeeper (macOS 10.15+)
```

**Windows:**
```bash
signtool sign /f certificate.pfx /p password /t http://timestamp.digicert.com installer.exe
# Optional but recommended
```

### Sandboxing

**VS Code Extensions:**
- Run in VS Code extension host (sandboxed)
- No system-level access
- Can only modify VS Code settings

**OS File Type Apps:**
- macOS app sandbox (optional)
- Windows UAC elevation (for registry)
- Linux runs with user permissions

---

## Documentation

### User-Facing Docs

**README Updates:**
```markdown
## Installation

### Editor Support
- **VS Code**: `pip install zlsp && zlsp-vscode-install`
- **Cursor**: `pip install zlsp && zlsp-cursor-install`
- **Vim**: Included with pip install

### Custom File Icons (Optional)
Want .zolo files to show custom icons in Finder/Explorer?

- **macOS**: Download [ZoloFileType.dmg](link)
- **Windows**: Download [zolo-filetype-windows.zip](link)
- **Linux**: Download [zolo-filetype.deb](link) or [.rpm](link)

These are **optional** and only affect icons outside the editor.
```

### Developer Docs

**Building from Source:**
```markdown
# Build .vsix
make dist-vscode

# Build OS integrations
make dist-macos
make dist-windows
make dist-linux

# Build everything
make dist
```

---

## Rollout Plan

### Phase 1: Editor Extensions ✅
- [x] Vim integration (complete)
- [x] VS Code Python installer (complete)
- [x] Cursor Python installer (complete)
- [ ] Fix VS Code marketplace bugs
- [ ] Add file icon to extensions
- [ ] Build .vsix
- [ ] Test .vsix locally
- [ ] Publish to VS Code Marketplace

**Timeline:** 1-2 weeks

---

### Phase 2: OS File Icons (Optional)
- [ ] Design decision: Worth the maintenance?
- [ ] Build macOS app + DMG
- [ ] Build Windows installer
- [ ] Build Linux packages
- [ ] Test on multiple OS versions
- [ ] Create GitHub Releases
- [ ] Update documentation

**Timeline:** 2-4 weeks (if approved)

---

## Decision Points

### Should We Implement OS File Icons?

**Pros:**
- ✅ Professional polish
- ✅ Better user experience
- ✅ Brand visibility

**Cons:**
- ❌ Significant maintenance burden
- ❌ Multiple OS versions to support
- ❌ Code signing requirements ($$)
- ❌ Separate distribution channels
- ❌ Not required for functionality

**Industry Standard:**
- Most LSP projects (Rust, Go, TypeScript) **don't** provide OS icons
- Users are accustomed to generic text file icons
- Editor icons are sufficient

**Recommendation:** **Defer to Phase 2 (future)**
- Focus on getting marketplace extension perfect first
- Revisit OS icons if users request it

---

## Appendix

### A. Icon Formats Reference

| Platform | Format | Sizes Required | Tool |
|----------|--------|----------------|------|
| macOS | `.icns` | 16-1024px (10 sizes) | `iconutil` |
| Windows | `.ico` | 16-256px (6 sizes) | ImageMagick |
| Linux | `.png` | 16, 32, 48, 256px | `convert` |
| VS Code | `.png` | 256x256 recommended | N/A |

### B. Useful Commands

```bash
# Verify .vsix contents
unzip -l zolo-lsp-1.0.0.vsix

# Extract specific file from .vsix
unzip -p zolo-lsp-1.0.0.vsix extension/package.json | jq .

# Test extension locally
code --install-extension path/to/extension.vsix --force

# View VS Code extension logs
code --log trace

# Uninstall extension
code --uninstall-extension zolo-ai.zolo-lsp
```

### C. Resources

- [VS Code Extension API](https://code.visualstudio.com/api)
- [vsce Publishing Tool](https://github.com/microsoft/vscode-vsce)
- [macOS File Type Registration](https://developer.apple.com/documentation/uniformtypeidentifiers)
- [Windows File Associations](https://docs.microsoft.com/windows/win32/shell/fa-file-types)
- [Linux Desktop Entry Spec](https://specifications.freedesktop.org/desktop-entry-spec/)

---

**Next Steps:** See [REFACTORING_PLAN.md Phase 7.1.8](./REFACTORING_PLAN.md#718-future-enhancements) for immediate action items.
